{% extends "base.html" %} {% block content %}
<div class="container mx-auto mt-8 p-6 bg-gray-100 rounded-lg shadow-lg">
  <h2 class="text-3xl font-bold text-gray-800 mb-6">
    Payment History for {{ group.name }}
  </h2>

  <!-- Download Payment History Button -->
  <div class="mb-6">
    <a
      href="{{ url_for('groups.download_group_payment_history', group_id=group.id) }}"
      class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300"
    >
      Download Payment History as CSV
    </a>
  </div>

  <!-- Payment History Table -->
  <div class="bg-white p-6 rounded-lg shadow-lg">
    <table class="table-auto w-full text-left border-collapse">
      <thead class="bg-gray-200">
        <tr>
          <th class="px-4 py-2 text-gray-700 font-semibold">Payment Amount</th>
          <th class="px-4 py-2 text-gray-700 font-semibold">Date Paid</th>
        </tr>
      </thead>
      <tbody>
        {% for payment in payments %}
        <tr class="border-t">
          <td class="px-4 py-3">{{ payment.amount_paid }}</td>
          <td class="px-4 py-3">
            {{ payment.date_paid.strftime('%Y-%m-%d %H:%M:%S') }}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
